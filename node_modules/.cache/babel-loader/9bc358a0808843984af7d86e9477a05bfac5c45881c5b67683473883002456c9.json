{"ast":null,"code":"const API_KEY = \"5ae2e3f221c38a28845f05b61d5bacc0f4592c8e6769d47d592aae63\";\nconst data = JSON.parse(localStorage.getItem(\"selectedPlace\")) || JSON.parse(localStorage.getItem(\"fixedData\"));\n\n// ✅ City → Latitude & Longitude (Nominatim)\nexport async function getCityCoords(city) {\n  const res = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(city)}`, {\n    headers: {\n      \"User-Agent\": \"virtual-travel-assistant\"\n    }\n  });\n  const data = await res.json();\n  if (!data || data.length === 0) {\n    return null;\n  }\n  return {\n    lat: parseFloat(data[0].lat),\n    lon: parseFloat(data[0].lon)\n  };\n}\n\n// ✅ Get nearby tourist places (OpenTripMap)\nexport async function getPlaces(lat, lon) {\n  const res = await fetch(`https://api.opentripmap.com/0.1/en/places/radius?radius=1200000&lat=${lat}&lon=${lon}&limit=30&apikey=${API_KEY}`);\n  const data = await res.json();\n  if (data.features) {\n    return data.features.filter(p => p.properties.name).map(p => ({\n      name: p.properties.name,\n      rate: p.properties.rate,\n      lat: p.geometry.coordinates[1],\n      lon: p.geometry.coordinates[0]\n    }));\n  }\n  return [];\n}","map":{"version":3,"names":["API_KEY","data","JSON","parse","localStorage","getItem","getCityCoords","city","res","fetch","encodeURIComponent","headers","json","length","lat","parseFloat","lon","getPlaces","features","filter","p","properties","name","map","rate","geometry","coordinates"],"sources":["C:/Users/HP/Desktop/Virtual travel assistant/src/services/openTripMap.js"],"sourcesContent":["const API_KEY = \"5ae2e3f221c38a28845f05b61d5bacc0f4592c8e6769d47d592aae63\";\r\nconst data =\r\n  JSON.parse(localStorage.getItem(\"selectedPlace\")) ||\r\n  JSON.parse(localStorage.getItem(\"fixedData\"));\r\n\r\n// ✅ City → Latitude & Longitude (Nominatim)\r\nexport async function getCityCoords(city) {\r\n  const res = await fetch(\r\n    `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(\r\n      city\r\n    )}`,\r\n    {\r\n      headers: {\r\n        \"User-Agent\": \"virtual-travel-assistant\"\r\n      }\r\n    }\r\n  );\r\n\r\n  const data = await res.json();\r\n\r\n  if (!data || data.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return {\r\n    lat: parseFloat(data[0].lat),\r\n    lon: parseFloat(data[0].lon)\r\n  };\r\n}\r\n\r\n// ✅ Get nearby tourist places (OpenTripMap)\r\nexport async function getPlaces(lat, lon) {\r\n  const res = await fetch(\r\n    `https://api.opentripmap.com/0.1/en/places/radius?radius=1200000&lat=${lat}&lon=${lon}&limit=30&apikey=${API_KEY}`\r\n  );\r\n\r\n  const data = await res.json();\r\n\r\n  if (data.features) {\r\n    return data.features\r\n      .filter(p => p.properties.name)\r\n      .map(p => ({\r\n        name: p.properties.name,\r\n        rate: p.properties.rate,\r\n        lat: p.geometry.coordinates[1],\r\n        lon: p.geometry.coordinates[0]\r\n      }));\r\n  }\r\n\r\n  return [];\r\n}\r\n\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAG,0DAA0D;AAC1E,MAAMC,IAAI,GACRC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,IACjDH,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC;;AAE/C;AACA,OAAO,eAAeC,aAAaA,CAACC,IAAI,EAAE;EACxC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CACrB,4DAA4DC,kBAAkB,CAC5EH,IACF,CAAC,EAAE,EACH;IACEI,OAAO,EAAE;MACP,YAAY,EAAE;IAChB;EACF,CACF,CAAC;EAED,MAAMV,IAAI,GAAG,MAAMO,GAAG,CAACI,IAAI,CAAC,CAAC;EAE7B,IAAI,CAACX,IAAI,IAAIA,IAAI,CAACY,MAAM,KAAK,CAAC,EAAE;IAC9B,OAAO,IAAI;EACb;EAEA,OAAO;IACLC,GAAG,EAAEC,UAAU,CAACd,IAAI,CAAC,CAAC,CAAC,CAACa,GAAG,CAAC;IAC5BE,GAAG,EAAED,UAAU,CAACd,IAAI,CAAC,CAAC,CAAC,CAACe,GAAG;EAC7B,CAAC;AACH;;AAEA;AACA,OAAO,eAAeC,SAASA,CAACH,GAAG,EAAEE,GAAG,EAAE;EACxC,MAAMR,GAAG,GAAG,MAAMC,KAAK,CACrB,uEAAuEK,GAAG,QAAQE,GAAG,oBAAoBhB,OAAO,EAClH,CAAC;EAED,MAAMC,IAAI,GAAG,MAAMO,GAAG,CAACI,IAAI,CAAC,CAAC;EAE7B,IAAIX,IAAI,CAACiB,QAAQ,EAAE;IACjB,OAAOjB,IAAI,CAACiB,QAAQ,CACjBC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,UAAU,CAACC,IAAI,CAAC,CAC9BC,GAAG,CAACH,CAAC,KAAK;MACTE,IAAI,EAAEF,CAAC,CAACC,UAAU,CAACC,IAAI;MACvBE,IAAI,EAAEJ,CAAC,CAACC,UAAU,CAACG,IAAI;MACvBV,GAAG,EAAEM,CAAC,CAACK,QAAQ,CAACC,WAAW,CAAC,CAAC,CAAC;MAC9BV,GAAG,EAAEI,CAAC,CAACK,QAAQ,CAACC,WAAW,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC;EACP;EAEA,OAAO,EAAE;AACX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}